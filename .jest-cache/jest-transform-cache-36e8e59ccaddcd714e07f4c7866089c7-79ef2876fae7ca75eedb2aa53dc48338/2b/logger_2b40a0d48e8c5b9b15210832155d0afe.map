{"file":"C:\\Adaptive_Testing\\src\\libs\\logger\\logger.ts","mappings":";;;;;;AAAA,sDAA8B;AAE9B,MAAM,SAAS,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS,IAAI,MAAM,CAAC;AAClD,MAAM,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,MAAM,CAAC;AAEpD;;GAEG;AACH,MAAM,SAAS,GAAG,iBAAO,CAAC,MAAM,CAAC,OAAO,CACtC,iBAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,EACzB,iBAAO,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,qBAAqB,EAAE,CAAC,EAC3D,iBAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,IAAI,EAAE,EAAE,EAAE;IAC/D,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC9E,OAAO,GAAG,SAAS,KAAK,KAAK,MAAM,OAAO,IAAI,OAAO,EAAE,CAAC;AAC1D,CAAC,CAAC,CACH,CAAC;AAEF;;GAEG;AACH,MAAM,UAAU,GAAG,iBAAO,CAAC,MAAM,CAAC,OAAO,CACvC,iBAAO,CAAC,MAAM,CAAC,SAAS,EAAE,EAC1B,iBAAO,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,EACtC,iBAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CACtB,CAAC;AAEF;;GAEG;AACU,QAAA,MAAM,GAAG,iBAAO,CAAC,YAAY,CAAC;IACzC,KAAK,EAAE,SAAS;IAChB,MAAM,EAAE,UAAU,KAAK,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS;IACtD,WAAW,EAAE,EAAE,OAAO,EAAE,eAAe,EAAE;IACzC,UAAU,EAAE;QACV,IAAI,iBAAO,CAAC,UAAU,CAAC,OAAO,CAAC;YAC7B,YAAY,EAAE,CAAC,OAAO,CAAC;SACxB,CAAC;KACH;CACF,CAAC,CAAC;AAEH;;GAEG;AACI,MAAM,UAAU,GAAG,CAAC,GAAY,EAAE,GAAY,EAAE,YAAoB,EAAQ,EAAE;IACnF,MAAM,OAAO,GAAG,GAAkD,CAAC;IACnE,MAAM,QAAQ,GAAG,GAA6B,CAAC;IAE/C,cAAM,CAAC,IAAI,CAAC,cAAc,EAAE;QAC1B,MAAM,EAAE,OAAO,CAAC,MAAM;QACtB,GAAG,EAAE,OAAO,CAAC,GAAG;QAChB,UAAU,EAAE,QAAQ,CAAC,UAAU;QAC/B,YAAY,EAAE,GAAG,YAAY,IAAI;QACjC,EAAE,EAAE,OAAO,CAAC,EAAE;KACf,CAAC,CAAC;AACL,CAAC,CAAC;AAXW,QAAA,UAAU,cAWrB;AAEF;;GAEG;AACI,MAAM,iBAAiB,GAAG,CAAC,OAAgC,EAAkB,EAAE;IACpF,OAAO,cAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AAC/B,CAAC,CAAC;AAFW,QAAA,iBAAiB,qBAE5B;AAEF,4CAA4C;AAC5C,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,MAAM,EAAE,CAAC;IACpC,cAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC;AACtE,CAAC","names":[],"sources":["C:\\Adaptive_Testing\\src\\libs\\logger\\logger.ts"],"sourcesContent":["import winston from 'winston';\n\nconst LOG_LEVEL = process.env.LOG_LEVEL || 'info';\nconst LOG_FORMAT = process.env.LOG_FORMAT || 'json';\n\n/**\n * Custom log format for development\n */\nconst devFormat = winston.format.combine(\n  winston.format.colorize(),\n  winston.format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }),\n  winston.format.printf(({ timestamp, level, message, ...meta }) => {\n    const metaStr = Object.keys(meta).length ? JSON.stringify(meta, null, 2) : '';\n    return `${timestamp} [${level}]: ${message} ${metaStr}`;\n  })\n);\n\n/**\n * Production log format (JSON)\n */\nconst prodFormat = winston.format.combine(\n  winston.format.timestamp(),\n  winston.format.errors({ stack: true }),\n  winston.format.json()\n);\n\n/**\n * Winston logger configuration\n */\nexport const logger = winston.createLogger({\n  level: LOG_LEVEL,\n  format: LOG_FORMAT === 'json' ? prodFormat : devFormat,\n  defaultMeta: { service: 'ecommerce-api' },\n  transports: [\n    new winston.transports.Console({\n      stderrLevels: ['error'],\n    }),\n  ],\n});\n\n/**\n * Log HTTP requests\n */\nexport const httpLogger = (req: unknown, res: unknown, responseTime: number): void => {\n  const request = req as { method: string; url: string; ip: string };\n  const response = res as { statusCode: number };\n\n  logger.info('HTTP Request', {\n    method: request.method,\n    url: request.url,\n    statusCode: response.statusCode,\n    responseTime: `${responseTime}ms`,\n    ip: request.ip,\n  });\n};\n\n/**\n * Create a child logger with additional context\n */\nexport const createChildLogger = (context: Record<string, unknown>): winston.Logger => {\n  return logger.child(context);\n};\n\n// In test environment, reduce logging noise\nif (process.env.NODE_ENV === 'test') {\n  logger.transports.forEach((transport) => (transport.silent = true));\n}\n"],"version":3}