f1c6f8369e054d26247f58d17baec5a2
"use strict";
/**
 * Global test setup
 * This file runs before all tests
 */
// Mock external services by default
jest.mock('nodemailer', () => ({
    createTransport: jest.fn().mockReturnValue({
        sendMail: jest.fn().mockResolvedValue({ messageId: 'test-message-id' }),
        verify: jest.fn().mockResolvedValue(true),
    }),
}));
// Set test environment
process.env.NODE_ENV = 'test';
// Set test database
process.env.DB_NAME = 'ecommerce_test_db';
// Disable logging in tests
process.env.LOG_LEVEL = 'error';
// Set test JWT secrets
process.env.JWT_SECRET = 'test_jwt_secret';
process.env.JWT_REFRESH_SECRET = 'test_refresh_secret';
// Increase timeout for integration tests
jest.setTimeout(30000);
// Global test utilities
global.console = {
    ...console,
    // Suppress console.log in tests but keep error and warn
    log: jest.fn(),
    debug: jest.fn(),
    info: jest.fn(),
    warn: console.warn,
    error: console.error,
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXEFkYXB0aXZlX1Rlc3RpbmdcXHRlc3RzXFxzZXR1cC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7OztHQUdHO0FBa0JILG9DQUFvQztBQUNwQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQzdCLGVBQWUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDO1FBQ3pDLFFBQVEsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsQ0FBQztRQUN2RSxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQztLQUMxQyxDQUFDO0NBQ0gsQ0FBQyxDQUFDLENBQUM7QUF0QkosdUJBQXVCO0FBQ3ZCLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztBQUU5QixvQkFBb0I7QUFDcEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsbUJBQW1CLENBQUM7QUFFMUMsMkJBQTJCO0FBQzNCLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQztBQUVoQyx1QkFBdUI7QUFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsaUJBQWlCLENBQUM7QUFDM0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsR0FBRyxxQkFBcUIsQ0FBQztBQUV2RCx5Q0FBeUM7QUFDekMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQVV2Qix3QkFBd0I7QUFDeEIsTUFBTSxDQUFDLE9BQU8sR0FBRztJQUNmLEdBQUcsT0FBTztJQUNWLHdEQUF3RDtJQUN4RCxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNkLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ2hCLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ2YsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO0lBQ2xCLEtBQUssRUFBRSxPQUFPLENBQUMsS0FBSztDQUNyQixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxBZGFwdGl2ZV9UZXN0aW5nXFx0ZXN0c1xcc2V0dXAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHbG9iYWwgdGVzdCBzZXR1cFxuICogVGhpcyBmaWxlIHJ1bnMgYmVmb3JlIGFsbCB0ZXN0c1xuICovXG5cbi8vIFNldCB0ZXN0IGVudmlyb25tZW50XG5wcm9jZXNzLmVudi5OT0RFX0VOViA9ICd0ZXN0JztcblxuLy8gU2V0IHRlc3QgZGF0YWJhc2VcbnByb2Nlc3MuZW52LkRCX05BTUUgPSAnZWNvbW1lcmNlX3Rlc3RfZGInO1xuXG4vLyBEaXNhYmxlIGxvZ2dpbmcgaW4gdGVzdHNcbnByb2Nlc3MuZW52LkxPR19MRVZFTCA9ICdlcnJvcic7XG5cbi8vIFNldCB0ZXN0IEpXVCBzZWNyZXRzXG5wcm9jZXNzLmVudi5KV1RfU0VDUkVUID0gJ3Rlc3Rfand0X3NlY3JldCc7XG5wcm9jZXNzLmVudi5KV1RfUkVGUkVTSF9TRUNSRVQgPSAndGVzdF9yZWZyZXNoX3NlY3JldCc7XG5cbi8vIEluY3JlYXNlIHRpbWVvdXQgZm9yIGludGVncmF0aW9uIHRlc3RzXG5qZXN0LnNldFRpbWVvdXQoMzAwMDApO1xuXG4vLyBNb2NrIGV4dGVybmFsIHNlcnZpY2VzIGJ5IGRlZmF1bHRcbmplc3QubW9jaygnbm9kZW1haWxlcicsICgpID0+ICh7XG4gIGNyZWF0ZVRyYW5zcG9ydDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgc2VuZE1haWw6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IG1lc3NhZ2VJZDogJ3Rlc3QtbWVzc2FnZS1pZCcgfSksXG4gICAgdmVyaWZ5OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXG4gIH0pLFxufSkpO1xuXG4vLyBHbG9iYWwgdGVzdCB1dGlsaXRpZXNcbmdsb2JhbC5jb25zb2xlID0ge1xuICAuLi5jb25zb2xlLFxuICAvLyBTdXBwcmVzcyBjb25zb2xlLmxvZyBpbiB0ZXN0cyBidXQga2VlcCBlcnJvciBhbmQgd2FyblxuICBsb2c6IGplc3QuZm4oKSxcbiAgZGVidWc6IGplc3QuZm4oKSxcbiAgaW5mbzogamVzdC5mbigpLFxuICB3YXJuOiBjb25zb2xlLndhcm4sXG4gIGVycm9yOiBjb25zb2xlLmVycm9yLFxufTtcbiJdLCJ2ZXJzaW9uIjozfQ==