{"file":"C:\\Adaptive_Testing\\src\\services\\product-catalog\\entities\\product.entity.ts","mappings":"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","names":[],"sources":["C:\\Adaptive_Testing\\src\\services\\product-catalog\\entities\\product.entity.ts"],"sourcesContent":["import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n  CreateDateColumn,\n  UpdateDateColumn,\n  Index,\n} from 'typeorm';\n\nexport enum ProductStatus {\n  DRAFT = 'draft',\n  ACTIVE = 'active',\n  OUT_OF_STOCK = 'out_of_stock',\n  DISCONTINUED = 'discontinued',\n}\n\n@Entity('products')\nexport class Product {\n  @PrimaryGeneratedColumn('uuid')\n  id!: string;\n\n  @Column()\n  @Index()\n  name!: string;\n\n  @Column('text')\n  description!: string;\n\n  @Column({ unique: true })\n  @Index()\n  sku!: string;\n\n  @Column('decimal', { precision: 10, scale: 2 })\n  price!: number;\n\n  @Column('decimal', { precision: 10, scale: 2, nullable: true })\n  compareAtPrice?: number;\n\n  @Column('int', { default: 0 })\n  inventory!: number;\n\n  @Column({ nullable: true })\n  categoryId?: string;\n\n  @Column({\n    type: 'enum',\n    enum: ProductStatus,\n    default: ProductStatus.DRAFT,\n  })\n  status!: ProductStatus;\n\n  @Column('simple-array', { nullable: true })\n  images?: string[];\n\n  @Column('jsonb', { nullable: true })\n  metadata?: Record<string, unknown>;\n\n  @Column({ default: 0 })\n  @Index()\n  rating!: number;\n\n  @Column({ default: 0 })\n  reviewCount!: number;\n\n  @Column({ default: 0 })\n  soldCount!: number;\n\n  @CreateDateColumn()\n  createdAt!: Date;\n\n  @UpdateDateColumn()\n  updatedAt!: Date;\n\n  /**\n   * Check if product is in stock\n   */\n  isInStock(): boolean {\n    return this.inventory > 0 && this.status === ProductStatus.ACTIVE;\n  }\n\n  /**\n   * Check if product is on sale\n   */\n  isOnSale(): boolean {\n    return !!this.compareAtPrice && this.compareAtPrice > this.price;\n  }\n\n  /**\n   * Calculate discount percentage\n   */\n  getDiscountPercentage(): number {\n    if (!this.compareAtPrice || this.compareAtPrice <= this.price) {\n      return 0;\n    }\n    return Math.round(((this.compareAtPrice - this.price) / this.compareAtPrice) * 100);\n  }\n}\n"],"version":3}