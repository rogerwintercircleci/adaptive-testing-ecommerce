{"file":"C:\\Adaptive_Testing\\src\\services\\wishlist\\services\\wishlist.service.spec.ts","mappings":"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","names":[],"sources":["C:\\Adaptive_Testing\\src\\services\\wishlist\\services\\wishlist.service.spec.ts"],"sourcesContent":["/**\n * TDD: Wishlist Service Tests\n *\n * Testing wishlist/favorites functionality\n */\n\nimport { WishlistService, AddToWishlistDto } from './wishlist.service';\nimport { WishlistRepository } from '../repositories/wishlist.repository';\nimport { ProductRepository } from '../../product-catalog/repositories/product.repository';\nimport { BadRequestError, NotFoundError } from '@libs/errors';\n\ndescribe('WishlistService', () => {\n  let wishlistService: WishlistService;\n  let mockWishlistRepository: jest.Mocked<WishlistRepository>;\n  let mockProductRepository: jest.Mocked<ProductRepository>;\n\n  beforeEach(() => {\n    mockWishlistRepository = {\n      create: jest.fn(),\n      findByUserId: jest.fn(),\n      findByUserAndProduct: jest.fn(),\n      delete: jest.fn(),\n      deleteAllByUserId: jest.fn(),\n      countByUserId: jest.fn(),\n      moveToCart: jest.fn(),\n    } as any;\n\n    mockProductRepository = {\n      findById: jest.fn(),\n      findByIds: jest.fn(),\n    } as any;\n\n    wishlistService = new WishlistService(mockWishlistRepository, mockProductRepository);\n  });\n\n  describe('addToWishlist', () => {\n    it('should add a product to user wishlist', async () => {\n      const addDto: AddToWishlistDto = {\n        userId: 'user-1',\n        productId: 'prod-1',\n      };\n\n      const mockProduct = {\n        id: 'prod-1',\n        name: 'Test Product',\n        price: 99.99,\n      };\n\n      mockProductRepository.findById.mockResolvedValue(mockProduct as any);\n      mockWishlistRepository.findByUserAndProduct.mockResolvedValue(null);\n\n      const mockWishlistItem = {\n        id: 'wishlist-1',\n        ...addDto,\n        createdAt: new Date(),\n      };\n\n      mockWishlistRepository.create.mockResolvedValue(mockWishlistItem as any);\n\n      const result = await wishlistService.addToWishlist(addDto);\n\n      expect(result).toEqual(mockWishlistItem);\n      expect(mockWishlistRepository.create).toHaveBeenCalled();\n    });\n\n    it('should reject adding non-existent product to wishlist', async () => {\n      const addDto: AddToWishlistDto = {\n        userId: 'user-1',\n        productId: 'invalid',\n      };\n\n      mockProductRepository.findById.mockRejectedValue(new NotFoundError('Product not found'));\n\n      await expect(wishlistService.addToWishlist(addDto)).rejects.toThrow(NotFoundError);\n    });\n\n    it('should reject adding duplicate product to wishlist', async () => {\n      const addDto: AddToWishlistDto = {\n        userId: 'user-1',\n        productId: 'prod-1',\n      };\n\n      mockProductRepository.findById.mockResolvedValue({ id: 'prod-1' } as any);\n      mockWishlistRepository.findByUserAndProduct.mockResolvedValue({\n        id: 'existing',\n        userId: 'user-1',\n        productId: 'prod-1',\n      } as any);\n\n      await expect(wishlistService.addToWishlist(addDto)).rejects.toThrow(BadRequestError);\n      await expect(wishlistService.addToWishlist(addDto)).rejects.toThrow('already in wishlist');\n    });\n\n    it('should add product with note', async () => {\n      const addDto: AddToWishlistDto = {\n        userId: 'user-1',\n        productId: 'prod-1',\n        note: 'Gift for birthday',\n      };\n\n      mockProductRepository.findById.mockResolvedValue({ id: 'prod-1' } as any);\n      mockWishlistRepository.findByUserAndProduct.mockResolvedValue(null);\n      mockWishlistRepository.create.mockResolvedValue({\n        id: 'wishlist-1',\n        ...addDto,\n      } as any);\n\n      const result = await wishlistService.addToWishlist(addDto);\n\n      expect(result.note).toBe('Gift for birthday');\n    });\n  });\n\n  describe('getWishlist', () => {\n    it('should get user wishlist with product details', async () => {\n      const mockWishlistItems = [\n        { id: '1', userId: 'user-1', productId: 'prod-1', createdAt: new Date() },\n        { id: '2', userId: 'user-1', productId: 'prod-2', createdAt: new Date() },\n      ];\n\n      const mockProducts = [\n        { id: 'prod-1', name: 'Product 1', price: 50 },\n        { id: 'prod-2', name: 'Product 2', price: 100 },\n      ];\n\n      mockWishlistRepository.findByUserId.mockResolvedValue(mockWishlistItems as any);\n      mockProductRepository.findByIds.mockResolvedValue(mockProducts as any);\n\n      const result = await wishlistService.getWishlist('user-1');\n\n      expect(result).toHaveLength(2);\n      expect(result[0].product).toBeDefined();\n      expect(result[0].product!.name).toBe('Product 1');\n    });\n\n    it('should return empty array for user with no wishlist items', async () => {\n      mockWishlistRepository.findByUserId.mockResolvedValue([]);\n\n      const result = await wishlistService.getWishlist('user-1');\n\n      expect(result).toEqual([]);\n    });\n\n    it('should sort wishlist by most recently added', async () => {\n      const now = new Date();\n      const yesterday = new Date(now.getTime() - 24 * 60 * 60 * 1000);\n\n      const mockWishlistItems = [\n        { id: '1', productId: 'prod-1', createdAt: yesterday },\n        { id: '2', productId: 'prod-2', createdAt: now },\n      ];\n\n      mockWishlistRepository.findByUserId.mockResolvedValue(mockWishlistItems as any);\n      mockProductRepository.findByIds.mockResolvedValue([\n        { id: 'prod-1' },\n        { id: 'prod-2' },\n      ] as any);\n\n      const result = await wishlistService.getWishlist('user-1', { sortBy: 'recent' });\n\n      expect(result[0].createdAt.getTime()).toBeGreaterThan(result[1].createdAt.getTime());\n    });\n\n    it('should filter wishlist by price range', async () => {\n      const mockWishlistItems = [\n        { id: '1', productId: 'prod-1' },\n        { id: '2', productId: 'prod-2' },\n      ];\n\n      const mockProducts = [\n        { id: 'prod-1', price: 50 },\n        { id: 'prod-2', price: 150 },\n      ];\n\n      mockWishlistRepository.findByUserId.mockResolvedValue(mockWishlistItems as any);\n      mockProductRepository.findByIds.mockResolvedValue(mockProducts as any);\n\n      const result = await wishlistService.getWishlist('user-1', {\n        minPrice: 0,\n        maxPrice: 100,\n      });\n\n      expect(result.every(item => item.product!.price <= 100)).toBe(true);\n    });\n  });\n\n  describe('removeFromWishlist', () => {\n    it('should remove a product from wishlist', async () => {\n      const mockWishlistItem = {\n        id: 'wishlist-1',\n        userId: 'user-1',\n        productId: 'prod-1',\n      };\n\n      mockWishlistRepository.findByUserAndProduct.mockResolvedValue(mockWishlistItem as any);\n      mockWishlistRepository.delete.mockResolvedValue(undefined);\n\n      await wishlistService.removeFromWishlist('user-1', 'prod-1');\n\n      expect(mockWishlistRepository.delete).toHaveBeenCalledWith('wishlist-1');\n    });\n\n    it('should throw error when removing non-existent wishlist item', async () => {\n      mockWishlistRepository.findByUserAndProduct.mockResolvedValue(null);\n\n      await expect(\n        wishlistService.removeFromWishlist('user-1', 'prod-1')\n      ).rejects.toThrow(NotFoundError);\n    });\n  });\n\n  describe('clearWishlist', () => {\n    it('should remove all items from user wishlist', async () => {\n      mockWishlistRepository.deleteAllByUserId.mockResolvedValue(undefined);\n\n      await wishlistService.clearWishlist('user-1');\n\n      expect(mockWishlistRepository.deleteAllByUserId).toHaveBeenCalledWith('user-1');\n    });\n  });\n\n  describe('getWishlistCount', () => {\n    it('should get total items in user wishlist', async () => {\n      mockWishlistRepository.countByUserId.mockResolvedValue(5);\n\n      const result = await wishlistService.getWishlistCount('user-1');\n\n      expect(result).toBe(5);\n    });\n  });\n\n  describe('isInWishlist', () => {\n    it('should return true if product is in wishlist', async () => {\n      mockWishlistRepository.findByUserAndProduct.mockResolvedValue({\n        id: 'wishlist-1',\n      } as any);\n\n      const result = await wishlistService.isInWishlist('user-1', 'prod-1');\n\n      expect(result).toBe(true);\n    });\n\n    it('should return false if product is not in wishlist', async () => {\n      mockWishlistRepository.findByUserAndProduct.mockResolvedValue(null);\n\n      const result = await wishlistService.isInWishlist('user-1', 'prod-1');\n\n      expect(result).toBe(false);\n    });\n  });\n\n  describe('moveToCart', () => {\n    it('should move wishlist item to shopping cart', async () => {\n      const mockWishlistItem = {\n        id: 'wishlist-1',\n        userId: 'user-1',\n        productId: 'prod-1',\n      };\n\n      mockWishlistRepository.findByUserAndProduct.mockResolvedValue(mockWishlistItem as any);\n      mockWishlistRepository.moveToCart.mockResolvedValue({\n        cartItemId: 'cart-1',\n        success: true,\n      } as any);\n\n      const result = await wishlistService.moveToCart('user-1', 'prod-1');\n\n      expect(result.success).toBe(true);\n      expect(mockWishlistRepository.delete).toHaveBeenCalledWith('wishlist-1');\n    });\n  });\n\n  describe('shareWishlist', () => {\n    it('should generate shareable link for wishlist', async () => {\n      const result = await wishlistService.shareWishlist('user-1');\n\n      expect(result.shareUrl).toBeDefined();\n      expect(result.shareUrl).toContain(result.shareToken);\n      expect(result.shareUrl).toContain('/wishlist/shared/');\n    });\n\n    it('should generate unique share token', async () => {\n      const result1 = await wishlistService.shareWishlist('user-1');\n      const result2 = await wishlistService.shareWishlist('user-1');\n\n      expect(result1.shareToken).not.toBe(result2.shareToken);\n    });\n  });\n\n  describe('getSharedWishlist', () => {\n    it('should get wishlist by share token', async () => {\n      const mockWishlistItems = [\n        { id: '1', userId: 'user-1', productId: 'prod-1' },\n      ];\n\n      const mockProducts = [\n        { id: 'prod-1', name: 'Product 1', price: 50 },\n      ];\n\n      mockWishlistRepository.findByUserId.mockResolvedValue(mockWishlistItems as any);\n      mockProductRepository.findByIds.mockResolvedValue(mockProducts as any);\n\n      const result = await wishlistService.getSharedWishlist('valid-token');\n\n      expect(result).toHaveLength(1);\n    });\n  });\n\n  describe('getWishlistTotalValue', () => {\n    it('should calculate total value of wishlist items', async () => {\n      const mockWishlistItems = [\n        { id: '1', productId: 'prod-1' },\n        { id: '2', productId: 'prod-2' },\n      ];\n\n      const mockProducts = [\n        { id: 'prod-1', price: 50 },\n        { id: 'prod-2', price: 150 },\n      ];\n\n      mockWishlistRepository.findByUserId.mockResolvedValue(mockWishlistItems as any);\n      mockProductRepository.findByIds.mockResolvedValue(mockProducts as any);\n\n      const result = await wishlistService.getWishlistTotalValue('user-1');\n\n      expect(result).toBe(200);\n    });\n  });\n\n  describe('getPriceDropAlerts', () => {\n    it('should get items with price drops', async () => {\n      const mockWishlistItems = [\n        {\n          id: '1',\n          productId: 'prod-1',\n          priceWhenAdded: 100,\n        },\n      ];\n\n      const mockProducts = [\n        { id: 'prod-1', price: 80 },\n      ];\n\n      mockWishlistRepository.findByUserId.mockResolvedValue(mockWishlistItems as any);\n      mockProductRepository.findByIds.mockResolvedValue(mockProducts as any);\n\n      const result = await wishlistService.getPriceDropAlerts('user-1');\n\n      expect(result).toHaveLength(1);\n      expect(result[0].priceDrop).toBe(20);\n    });\n  });\n\n  describe('getOutOfStockItems', () => {\n    it('should get wishlist items that are out of stock', async () => {\n      const mockWishlistItems = [\n        { id: '1', productId: 'prod-1' },\n        { id: '2', productId: 'prod-2' },\n      ];\n\n      const mockProducts = [\n        { id: 'prod-1', inventory: 0 },\n        { id: 'prod-2', inventory: 5 },\n      ];\n\n      mockWishlistRepository.findByUserId.mockResolvedValue(mockWishlistItems as any);\n      mockProductRepository.findByIds.mockResolvedValue(mockProducts as any);\n\n      const result = await wishlistService.getOutOfStockItems('user-1');\n\n      expect(result).toHaveLength(1);\n      expect(result[0].product!.inventory).toBe(0);\n    });\n  });\n\n  describe('addMultipleToWishlist', () => {\n    it('should add multiple products to wishlist at once', async () => {\n      const productIds = ['prod-1', 'prod-2', 'prod-3'];\n\n      mockProductRepository.findByIds.mockResolvedValue([\n        { id: 'prod-1' },\n        { id: 'prod-2' },\n        { id: 'prod-3' },\n      ] as any);\n\n      mockWishlistRepository.findByUserAndProduct.mockResolvedValue(null);\n      mockWishlistRepository.create.mockResolvedValue({} as any);\n\n      const result = await wishlistService.addMultipleToWishlist('user-1', productIds);\n\n      expect(result.added).toBe(3);\n      expect(result.failed).toBe(0);\n    });\n  });\n});\n"],"version":3}