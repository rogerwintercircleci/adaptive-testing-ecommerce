{"file":"C:\\Adaptive_Testing\\src\\services\\order-processing\\entities\\order.entity.ts","mappings":"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","names":[],"sources":["C:\\Adaptive_Testing\\src\\services\\order-processing\\entities\\order.entity.ts"],"sourcesContent":["import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n  CreateDateColumn,\n  UpdateDateColumn,\n  Index,\n} from 'typeorm';\n\nexport enum OrderStatus {\n  PENDING = 'pending',\n  CONFIRMED = 'confirmed',\n  PROCESSING = 'processing',\n  SHIPPED = 'shipped',\n  DELIVERED = 'delivered',\n  CANCELLED = 'cancelled',\n  REFUNDED = 'refunded',\n}\n\nexport enum PaymentStatus {\n  PENDING = 'pending',\n  PAID = 'paid',\n  FAILED = 'failed',\n  REFUNDED = 'refunded',\n}\n\nexport enum PaymentMethod {\n  CREDIT_CARD = 'credit_card',\n  DEBIT_CARD = 'debit_card',\n  PAYPAL = 'paypal',\n  BANK_TRANSFER = 'bank_transfer',\n}\n\n@Entity('order_items')\nexport class OrderItem {\n  @PrimaryGeneratedColumn('uuid')\n  id!: string;\n\n  @Column()\n  orderId!: string;\n\n  @Column()\n  productId!: string;\n\n  @Column()\n  productName!: string;\n\n  @Column()\n  productSku!: string;\n\n  @Column('decimal', { precision: 10, scale: 2 })\n  unitPrice!: number;\n\n  @Column('int')\n  quantity!: number;\n\n  @Column('decimal', { precision: 10, scale: 2 })\n  subtotal!: number;\n\n  /**\n   * Calculate subtotal\n   */\n  calculateSubtotal(): number {\n    return this.unitPrice * this.quantity;\n  }\n}\n\n@Entity('orders')\nexport class Order {\n  @PrimaryGeneratedColumn('uuid')\n  id!: string;\n\n  @Column()\n  @Index()\n  userId!: string;\n\n  @Column({ unique: true })\n  @Index()\n  orderNumber!: string;\n\n  @Column({\n    type: 'enum',\n    enum: OrderStatus,\n    default: OrderStatus.PENDING,\n  })\n  @Index()\n  status!: OrderStatus;\n\n  @Column({\n    type: 'enum',\n    enum: PaymentStatus,\n    default: PaymentStatus.PENDING,\n  })\n  paymentStatus!: PaymentStatus;\n\n  @Column({\n    type: 'enum',\n    enum: PaymentMethod,\n    nullable: true,\n  })\n  paymentMethod?: PaymentMethod;\n\n  @Column('decimal', { precision: 10, scale: 2 })\n  subtotal!: number;\n\n  @Column('decimal', { precision: 10, scale: 2, default: 0 })\n  taxAmount!: number;\n\n  @Column('decimal', { precision: 10, scale: 2, default: 0 })\n  shippingCost!: number;\n\n  @Column('decimal', { precision: 10, scale: 2, default: 0 })\n  discountAmount!: number;\n\n  @Column('decimal', { precision: 10, scale: 2 })\n  total!: number;\n\n  @Column({ nullable: true })\n  discountCode?: string;\n\n  @Column('jsonb')\n  shippingAddress!: {\n    street: string;\n    city: string;\n    state: string;\n    postalCode: string;\n    country: string;\n  };\n\n  @Column('jsonb', { nullable: true })\n  billingAddress?: {\n    street: string;\n    city: string;\n    state: string;\n    postalCode: string;\n    country: string;\n  };\n\n  @Column('jsonb')\n  items!: OrderItem[];\n\n  @Column('text', { nullable: true })\n  notes?: string;\n\n  @Column({ nullable: true })\n  trackingNumber?: string;\n\n  @Column({ type: 'timestamp', nullable: true })\n  paidAt?: Date;\n\n  @Column({ type: 'timestamp', nullable: true })\n  shippedAt?: Date;\n\n  @Column({ type: 'timestamp', nullable: true })\n  deliveredAt?: Date;\n\n  @Column({ type: 'timestamp', nullable: true })\n  cancelledAt?: Date;\n\n  @CreateDateColumn()\n  createdAt!: Date;\n\n  @UpdateDateColumn()\n  updatedAt!: Date;\n\n  /**\n   * Calculate total amount\n   */\n  calculateTotal(): number {\n    return this.subtotal + this.taxAmount + this.shippingCost - this.discountAmount;\n  }\n\n  /**\n   * Calculate subtotal from items\n   */\n  calculateSubtotal(): number {\n    return this.items.reduce((sum, item) => sum + item.subtotal, 0);\n  }\n\n  /**\n   * Check if order can be cancelled\n   */\n  canBeCancelled(): boolean {\n    return [OrderStatus.PENDING, OrderStatus.CONFIRMED].includes(this.status);\n  }\n\n  /**\n   * Check if order is fulfilled\n   */\n  isFulfilled(): boolean {\n    return this.status === OrderStatus.DELIVERED;\n  }\n\n  /**\n   * Check if order is paid\n   */\n  isPaid(): boolean {\n    return this.paymentStatus === PaymentStatus.PAID;\n  }\n\n  /**\n   * Get total items count\n   */\n  getTotalItemsCount(): number {\n    return this.items.reduce((sum, item) => sum + item.quantity, 0);\n  }\n}\n"],"version":3}