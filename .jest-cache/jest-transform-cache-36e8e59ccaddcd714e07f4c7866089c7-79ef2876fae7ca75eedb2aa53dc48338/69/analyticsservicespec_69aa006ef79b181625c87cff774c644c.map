{"file":"C:\\Adaptive_Testing\\src\\services\\analytics\\services\\analytics.service.spec.ts","mappings":"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","names":[],"sources":["C:\\Adaptive_Testing\\src\\services\\analytics\\services\\analytics.service.spec.ts"],"sourcesContent":["/**\n * TDD: Analytics Service Tests\n *\n * Testing sales metrics, user behavior tracking, and reporting\n */\n\nimport { AnalyticsService } from './analytics.service';\nimport { OrderRepository } from '../../order-processing/repositories/order.repository';\nimport { ProductRepository } from '../../product-catalog/repositories/product.repository';\nimport { UserRepository } from '../../user-management/repositories/user.repository';\n\njest.mock('../../order-processing/repositories/order.repository');\njest.mock('../../product-catalog/repositories/product.repository');\njest.mock('../../user-management/repositories/user.repository');\n\ndescribe('AnalyticsService', () => {\n  let analyticsService: AnalyticsService;\n  let mockOrderRepository: jest.Mocked<OrderRepository>;\n  let mockProductRepository: jest.Mocked<ProductRepository>;\n  let mockUserRepository: jest.Mocked<UserRepository>;\n\n  beforeEach(() => {\n    mockOrderRepository = {\n      getTotalRevenue: jest.fn(),\n      getOrderStats: jest.fn(),\n      findOrdersByDateRange: jest.fn(),\n      count: jest.fn(),\n    } as unknown as jest.Mocked<OrderRepository>;\n\n    mockProductRepository = {\n      findTopSelling: jest.fn(),\n      findTopRated: jest.fn(),\n      findLowStock: jest.fn(),\n      count: jest.fn(),\n    } as unknown as jest.Mocked<ProductRepository>;\n\n    mockUserRepository = {\n      count: jest.fn(),\n      findByStatus: jest.fn(),\n    } as unknown as jest.Mocked<UserRepository>;\n\n    analyticsService = new AnalyticsService(\n      mockOrderRepository,\n      mockProductRepository,\n      mockUserRepository\n    );\n  });\n\n  describe('getTotalRevenue', () => {\n    it('should return total revenue from all orders', async () => {\n      mockOrderRepository.getTotalRevenue.mockResolvedValue(50000.00);\n\n      const revenue = await analyticsService.getTotalRevenue();\n\n      expect(revenue).toBe(50000.00);\n    });\n\n    it('should return zero when no orders', async () => {\n      mockOrderRepository.getTotalRevenue.mockResolvedValue(0);\n\n      const revenue = await analyticsService.getTotalRevenue();\n\n      expect(revenue).toBe(0);\n    });\n  });\n\n  describe('getRevenueByDateRange', () => {\n    it('should calculate revenue for date range', async () => {\n      const startDate = new Date('2024-01-01');\n      const endDate = new Date('2024-01-31');\n\n      mockOrderRepository.findOrdersByDateRange.mockResolvedValue([\n        { total: 100.00 } as any,\n        { total: 200.00 } as any,\n        { total: 150.00 } as any,\n      ]);\n\n      const revenue = await analyticsService.getRevenueByDateRange(startDate, endDate);\n\n      expect(revenue).toBe(450.00);\n    });\n\n    it('should return zero for date range with no orders', async () => {\n      mockOrderRepository.findOrdersByDateRange.mockResolvedValue([]);\n\n      const revenue = await analyticsService.getRevenueByDateRange(\n        new Date(),\n        new Date()\n      );\n\n      expect(revenue).toBe(0);\n    });\n  });\n\n  describe('getAverageOrderValue', () => {\n    it('should calculate average order value', async () => {\n      mockOrderRepository.getTotalRevenue.mockResolvedValue(10000.00);\n      mockOrderRepository.count.mockResolvedValue(100);\n\n      const avg = await analyticsService.getAverageOrderValue();\n\n      expect(avg).toBe(100.00);\n    });\n\n    it('should return zero when no orders', async () => {\n      mockOrderRepository.getTotalRevenue.mockResolvedValue(0);\n      mockOrderRepository.count.mockResolvedValue(0);\n\n      const avg = await analyticsService.getAverageOrderValue();\n\n      expect(avg).toBe(0);\n    });\n\n    it('should handle decimal values correctly', async () => {\n      mockOrderRepository.getTotalRevenue.mockResolvedValue(1000.00);\n      mockOrderRepository.count.mockResolvedValue(3);\n\n      const avg = await analyticsService.getAverageOrderValue();\n\n      expect(avg).toBeCloseTo(333.33, 2);\n    });\n  });\n\n  describe('getTopSellingProducts', () => {\n    it('should return top selling products', async () => {\n      const mockProducts = [\n        { id: '1', name: 'Product 1', soldCount: 1000 },\n        { id: '2', name: 'Product 2', soldCount: 800 },\n        { id: '3', name: 'Product 3', soldCount: 600 },\n      ] as any[];\n\n      mockProductRepository.findTopSelling.mockResolvedValue(mockProducts);\n\n      const result = await analyticsService.getTopSellingProducts(10);\n\n      expect(result).toEqual(mockProducts);\n      expect(mockProductRepository.findTopSelling).toHaveBeenCalledWith(10);\n    });\n\n    it('should default to top 10 if no limit specified', async () => {\n      mockProductRepository.findTopSelling.mockResolvedValue([]);\n\n      await analyticsService.getTopSellingProducts();\n\n      expect(mockProductRepository.findTopSelling).toHaveBeenCalledWith(10);\n    });\n  });\n\n  describe('getTopRatedProducts', () => {\n    it('should return top rated products', async () => {\n      const mockProducts = [\n        { id: '1', name: 'Product 1', rating: 4.9 },\n        { id: '2', name: 'Product 2', rating: 4.8 },\n      ] as any[];\n\n      mockProductRepository.findTopRated.mockResolvedValue(mockProducts);\n\n      const result = await analyticsService.getTopRatedProducts(5);\n\n      expect(result).toEqual(mockProducts);\n    });\n  });\n\n  describe('getLowStockAlert', () => {\n    it('should return products with low stock', async () => {\n      const mockProducts = [\n        { id: '1', name: 'Product 1', inventory: 3 },\n        { id: '2', name: 'Product 2', inventory: 5 },\n      ] as any[];\n\n      mockProductRepository.findLowStock.mockResolvedValue(mockProducts);\n\n      const result = await analyticsService.getLowStockAlert(10);\n\n      expect(result).toEqual(mockProducts);\n    });\n\n    it('should use default threshold of 10', async () => {\n      mockProductRepository.findLowStock.mockResolvedValue([]);\n\n      await analyticsService.getLowStockAlert();\n\n      expect(mockProductRepository.findLowStock).toHaveBeenCalledWith(10);\n    });\n  });\n\n  describe('getUserGrowthMetrics', () => {\n    it('should calculate user growth rate', async () => {\n      mockUserRepository.count.mockResolvedValueOnce(1000); // Current total\n      mockUserRepository.count.mockResolvedValueOnce(100);  // New this month\n\n      const metrics = await analyticsService.getUserGrowthMetrics();\n\n      expect(metrics.totalUsers).toBe(1000);\n      expect(metrics.newUsersThisMonth).toBe(100);\n      expect(metrics.growthRate).toBe(10); // 100/1000 * 100\n    });\n\n    it('should handle zero growth', async () => {\n      mockUserRepository.count.mockResolvedValueOnce(1000);\n      mockUserRepository.count.mockResolvedValueOnce(0);\n\n      const metrics = await analyticsService.getUserGrowthMetrics();\n\n      expect(metrics.growthRate).toBe(0);\n    });\n  });\n\n  describe('getActiveUserCount', () => {\n    it('should return count of active users', async () => {\n      mockUserRepository.findByStatus.mockResolvedValue(\n        Array(500).fill({}) as any[]\n      );\n\n      const count = await analyticsService.getActiveUserCount();\n\n      expect(count).toBe(500);\n    });\n  });\n\n  describe('getSalesMetricsByPeriod', () => {\n    it('should aggregate metrics for monthly period', async () => {\n      const period = 'month';\n      const mockOrders = [\n        { createdAt: new Date('2024-01-15'), total: 100 },\n        { createdAt: new Date('2024-01-20'), total: 200 },\n        { createdAt: new Date('2024-02-05'), total: 150 },\n      ] as any[];\n\n      mockOrderRepository.findOrdersByDateRange.mockResolvedValue(mockOrders);\n\n      const metrics = await analyticsService.getSalesMetricsByPeriod(period);\n\n      expect(metrics).toBeDefined();\n      expect(metrics.length).toBeGreaterThan(0);\n    });\n\n    it('should aggregate metrics for weekly period', async () => {\n      const period = 'week';\n\n      mockOrderRepository.findOrdersByDateRange.mockResolvedValue([]);\n\n      const metrics = await analyticsService.getSalesMetricsByPeriod(period);\n\n      expect(Array.isArray(metrics)).toBe(true);\n    });\n\n    it('should aggregate metrics for daily period', async () => {\n      const period = 'day';\n\n      mockOrderRepository.findOrdersByDateRange.mockResolvedValue([]);\n\n      const metrics = await analyticsService.getSalesMetricsByPeriod(period);\n\n      expect(Array.isArray(metrics)).toBe(true);\n    });\n  });\n\n  describe('getConversionRate', () => {\n    it('should calculate conversion rate', async () => {\n      const result = await analyticsService.getConversionRate(\n        1000, // visitors\n        50    // orders\n      );\n\n      expect(result).toBe(5); // 50/1000 * 100\n    });\n\n    it('should return zero when no visitors', async () => {\n      const result = await analyticsService.getConversionRate(0, 0);\n\n      expect(result).toBe(0);\n    });\n\n    it('should handle decimal conversion rates', async () => {\n      const result = await analyticsService.getConversionRate(300, 7);\n\n      expect(result).toBeCloseTo(2.33, 2);\n    });\n  });\n\n  describe('getCustomerLifetimeValue', () => {\n    it('should calculate average customer lifetime value', async () => {\n      mockOrderRepository.getTotalRevenue.mockResolvedValue(100000);\n      mockUserRepository.count.mockResolvedValue(500);\n\n      const clv = await analyticsService.getCustomerLifetimeValue();\n\n      expect(clv).toBe(200); // 100000 / 500\n    });\n\n    it('should return zero when no customers', async () => {\n      mockOrderRepository.getTotalRevenue.mockResolvedValue(0);\n      mockUserRepository.count.mockResolvedValue(0);\n\n      const clv = await analyticsService.getCustomerLifetimeValue();\n\n      expect(clv).toBe(0);\n    });\n  });\n\n  describe('getProductPerformance', () => {\n    it('should return performance metrics for product', async () => {\n      const productId = 'prod-123';\n\n      const metrics = await analyticsService.getProductPerformance(productId);\n\n      expect(metrics).toHaveProperty('views');\n      expect(metrics).toHaveProperty('purchases');\n      expect(metrics).toHaveProperty('conversionRate');\n      expect(metrics).toHaveProperty('revenue');\n    });\n  });\n\n  describe('trackEvent', () => {\n    it('should track user event', async () => {\n      const event = {\n        userId: 'user-123',\n        eventType: 'page_view',\n        page: '/products',\n        timestamp: new Date(),\n      };\n\n      await analyticsService.trackEvent(event);\n\n      const events = await analyticsService.getEventsByUser('user-123');\n\n      expect(events.length).toBeGreaterThan(0);\n      expect(events[0].eventType).toBe('page_view');\n    });\n\n    it('should track product view event', async () => {\n      await analyticsService.trackEvent({\n        userId: 'user-123',\n        eventType: 'product_view',\n        productId: 'prod-456',\n        timestamp: new Date(),\n      });\n\n      const events = await analyticsService.getEventsByUser('user-123');\n\n      expect(events.some(e => e.eventType === 'product_view')).toBe(true);\n    });\n  });\n\n  describe('getEventsByUser', () => {\n    it('should return all events for user', async () => {\n      await analyticsService.trackEvent({\n        userId: 'user-123',\n        eventType: 'login',\n        timestamp: new Date(),\n      });\n\n      await analyticsService.trackEvent({\n        userId: 'user-123',\n        eventType: 'add_to_cart',\n        timestamp: new Date(),\n      });\n\n      const events = await analyticsService.getEventsByUser('user-123');\n\n      expect(events.length).toBe(2);\n    });\n\n    it('should return empty array for user with no events', async () => {\n      const events = await analyticsService.getEventsByUser('new-user');\n\n      expect(events).toEqual([]);\n    });\n  });\n\n  describe('getDashboardMetrics', () => {\n    it('should return comprehensive dashboard metrics', async () => {\n      mockOrderRepository.getTotalRevenue.mockResolvedValue(50000);\n      mockOrderRepository.count.mockResolvedValue(200);\n      mockUserRepository.count.mockResolvedValue(1000);\n      mockProductRepository.count.mockResolvedValue(150);\n\n      const metrics = await analyticsService.getDashboardMetrics();\n\n      expect(metrics).toHaveProperty('totalRevenue');\n      expect(metrics).toHaveProperty('totalOrders');\n      expect(metrics).toHaveProperty('totalUsers');\n      expect(metrics).toHaveProperty('totalProducts');\n      expect(metrics).toHaveProperty('averageOrderValue');\n    });\n\n    it('should include growth metrics', async () => {\n      mockOrderRepository.getTotalRevenue.mockResolvedValue(50000);\n      mockOrderRepository.count.mockResolvedValue(200);\n      mockUserRepository.count.mockResolvedValueOnce(1000).mockResolvedValueOnce(100);\n      mockProductRepository.count.mockResolvedValue(150);\n\n      const metrics = await analyticsService.getDashboardMetrics();\n\n      expect(metrics).toHaveProperty('userGrowthRate');\n    });\n  });\n\n  describe('exportReport', () => {\n    it('should generate revenue report', async () => {\n      mockOrderRepository.getTotalRevenue.mockResolvedValue(10000);\n      mockOrderRepository.findOrdersByDateRange.mockResolvedValue([]);\n\n      const report = await analyticsService.exportReport('revenue', {\n        startDate: new Date('2024-01-01'),\n        endDate: new Date('2024-01-31'),\n      });\n\n      expect(report).toHaveProperty('type');\n      expect(report.type).toBe('revenue');\n      expect(report).toHaveProperty('data');\n    });\n\n    it('should generate user report', async () => {\n      mockUserRepository.count.mockResolvedValue(1000);\n\n      const report = await analyticsService.exportReport('users');\n\n      expect(report.type).toBe('users');\n      expect(report.data).toHaveProperty('totalUsers');\n    });\n\n    it('should generate product report', async () => {\n      mockProductRepository.findTopSelling.mockResolvedValue([]);\n      mockProductRepository.findTopRated.mockResolvedValue([]);\n\n      const report = await analyticsService.exportReport('products');\n\n      expect(report.type).toBe('products');\n    });\n  });\n});\n"],"version":3}