{"file":"C:\\Adaptive_Testing\\src\\services\\user-management\\entities\\user.entity.spec.ts","mappings":"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","names":[],"sources":["C:\\Adaptive_Testing\\src\\services\\user-management\\entities\\user.entity.spec.ts"],"sourcesContent":["/**\n * Unit Tests: User Entity\n *\n * Testing entity business logic methods\n */\n\nimport { User, UserRole, UserStatus } from './user.entity';\n\ndescribe('User Entity', () => {\n  let user: User;\n\n  beforeEach(() => {\n    user = new User();\n    user.id = '123';\n    user.email = 'test@example.com';\n    user.password = 'hashed_password';\n    user.firstName = 'John';\n    user.lastName = 'Doe';\n    user.role = UserRole.CUSTOMER;\n    user.status = UserStatus.ACTIVE;\n    user.loginAttempts = 0;\n    user.createdAt = new Date();\n    user.updatedAt = new Date();\n  });\n\n  describe('fullName getter', () => {\n    it('should return full name', () => {\n      expect(user.fullName).toBe('John Doe');\n    });\n\n    it('should handle different names', () => {\n      user.firstName = 'Jane';\n      user.lastName = 'Smith';\n\n      expect(user.fullName).toBe('Jane Smith');\n    });\n\n    it('should handle single character names', () => {\n      user.firstName = 'A';\n      user.lastName = 'B';\n\n      expect(user.fullName).toBe('A B');\n    });\n  });\n\n  describe('isEmailVerified', () => {\n    it('should return true when email is verified', () => {\n      user.emailVerifiedAt = new Date();\n\n      expect(user.isEmailVerified()).toBe(true);\n    });\n\n    it('should return false when email is not verified', () => {\n      user.emailVerifiedAt = undefined;\n\n      expect(user.isEmailVerified()).toBe(false);\n    });\n\n    it('should return false when emailVerifiedAt is null', () => {\n      user.emailVerifiedAt = null as unknown as undefined;\n\n      expect(user.isEmailVerified()).toBe(false);\n    });\n\n    it('should return true for past verification date', () => {\n      user.emailVerifiedAt = new Date('2020-01-01');\n\n      expect(user.isEmailVerified()).toBe(true);\n    });\n  });\n\n  describe('isLocked', () => {\n    it('should return false when not locked', () => {\n      user.lockedUntil = undefined;\n\n      expect(user.isLocked()).toBe(false);\n    });\n\n    it('should return true when locked in future', () => {\n      user.lockedUntil = new Date(Date.now() + 3600000);\n\n      expect(user.isLocked()).toBe(true);\n    });\n\n    it('should return false when lock expired', () => {\n      user.lockedUntil = new Date(Date.now() - 1000);\n\n      expect(user.isLocked()).toBe(false);\n    });\n\n    it('should return false when lockedUntil is null', () => {\n      user.lockedUntil = null as unknown as undefined;\n\n      expect(user.isLocked()).toBe(false);\n    });\n\n    it('should handle exact lock expiration time', () => {\n      user.lockedUntil = new Date();\n\n      // Should be considered unlocked at exact expiration\n      expect(user.isLocked()).toBe(false);\n    });\n  });\n\n  describe('isActive', () => {\n    it('should return true for active unlocked user', () => {\n      user.status = UserStatus.ACTIVE;\n      user.lockedUntil = undefined;\n\n      expect(user.isActive()).toBe(true);\n    });\n\n    it('should return false for locked user', () => {\n      user.status = UserStatus.ACTIVE;\n      user.lockedUntil = new Date(Date.now() + 3600000);\n\n      expect(user.isActive()).toBe(false);\n    });\n\n    it('should return false for pending user', () => {\n      user.status = UserStatus.PENDING;\n      user.lockedUntil = undefined;\n\n      expect(user.isActive()).toBe(false);\n    });\n\n    it('should return false for suspended user', () => {\n      user.status = UserStatus.SUSPENDED;\n      user.lockedUntil = undefined;\n\n      expect(user.isActive()).toBe(false);\n    });\n\n    it('should return false for deleted user', () => {\n      user.status = UserStatus.DELETED;\n      user.lockedUntil = undefined;\n\n      expect(user.isActive()).toBe(false);\n    });\n\n    it('should return false for suspended and locked user', () => {\n      user.status = UserStatus.SUSPENDED;\n      user.lockedUntil = new Date(Date.now() + 3600000);\n\n      expect(user.isActive()).toBe(false);\n    });\n  });\n\n  describe('toJSON', () => {\n    it('should exclude password from JSON', () => {\n      const json = user.toJSON();\n\n      expect(json.password).toBeUndefined();\n    });\n\n    it('should exclude emailVerificationToken from JSON', () => {\n      user.emailVerificationToken = 'secret-token';\n      const json = user.toJSON();\n\n      expect(json.emailVerificationToken).toBeUndefined();\n    });\n\n    it('should exclude passwordResetToken from JSON', () => {\n      user.passwordResetToken = 'reset-token';\n      const json = user.toJSON();\n\n      expect(json.passwordResetToken).toBeUndefined();\n    });\n\n    it('should include safe fields in JSON', () => {\n      const json = user.toJSON();\n\n      expect(json.id).toBe(user.id);\n      expect(json.email).toBe(user.email);\n      expect(json.firstName).toBe(user.firstName);\n      expect(json.lastName).toBe(user.lastName);\n      expect(json.role).toBe(user.role);\n      expect(json.status).toBe(user.status);\n    });\n\n    it('should include timestamps in JSON', () => {\n      const json = user.toJSON();\n\n      expect(json.createdAt).toBeDefined();\n      expect(json.updatedAt).toBeDefined();\n    });\n\n    it('should include optional fields when present', () => {\n      user.phoneNumber = '+1234567890';\n      user.lastLoginAt = new Date();\n      const json = user.toJSON();\n\n      expect(json.phoneNumber).toBe(user.phoneNumber);\n      expect(json.lastLoginAt).toBe(user.lastLoginAt);\n    });\n  });\n\n  describe('Role-based checks', () => {\n    it('should identify admin role', () => {\n      user.role = UserRole.ADMIN;\n\n      expect(user.role).toBe(UserRole.ADMIN);\n    });\n\n    it('should identify customer role', () => {\n      user.role = UserRole.CUSTOMER;\n\n      expect(user.role).toBe(UserRole.CUSTOMER);\n    });\n\n    it('should identify vendor role', () => {\n      user.role = UserRole.VENDOR;\n\n      expect(user.role).toBe(UserRole.VENDOR);\n    });\n  });\n\n  describe('Status transitions', () => {\n    it('should allow pending to active transition', () => {\n      user.status = UserStatus.PENDING;\n      user.status = UserStatus.ACTIVE;\n\n      expect(user.status).toBe(UserStatus.ACTIVE);\n    });\n\n    it('should allow active to suspended transition', () => {\n      user.status = UserStatus.ACTIVE;\n      user.status = UserStatus.SUSPENDED;\n\n      expect(user.status).toBe(UserStatus.SUSPENDED);\n    });\n\n    it('should allow suspended to active transition', () => {\n      user.status = UserStatus.SUSPENDED;\n      user.status = UserStatus.ACTIVE;\n\n      expect(user.status).toBe(UserStatus.ACTIVE);\n    });\n  });\n\n  describe('Login attempt tracking', () => {\n    it('should track login attempts', () => {\n      user.loginAttempts = 0;\n\n      expect(user.loginAttempts).toBe(0);\n\n      user.loginAttempts++;\n      expect(user.loginAttempts).toBe(1);\n    });\n\n    it('should handle multiple failed attempts', () => {\n      user.loginAttempts = 4;\n\n      expect(user.loginAttempts).toBe(4);\n    });\n\n    it('should reset login attempts', () => {\n      user.loginAttempts = 5;\n      user.loginAttempts = 0;\n\n      expect(user.loginAttempts).toBe(0);\n    });\n  });\n});\n"],"version":3}